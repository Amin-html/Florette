{% extends 'shop/base.html' %}
{% block title %}Florette ‚Äî –¶–≤–µ—Ç–æ—á–Ω—ã–π –º–∞–≥–∞–∑–∏–Ω{% endblock %}

{% block extra_css %}
<style>
.hero {
    background: var(--surface);
    border-bottom: 1px solid var(--border);
    min-height: 460px;
    display: flex;
    align-items: center;
}
.hero-content { max-width: 560px; }
.hero h1 {
    font-size: 3rem;
    font-weight: 700;
    line-height: 1.15;
    color: var(--text);
    margin-bottom: 1rem;
    letter-spacing: -0.03em;
}
.hero p {
    font-size: 1.05rem;
    color: var(--text-muted);
    margin-bottom: 2rem;
    line-height: 1.7;
}
.hero-btns { display: flex; gap: 1rem; flex-wrap: wrap; }

.section-title {
    font-size: 1.5rem;
    font-weight: 700;
    color: var(--text);
    margin-bottom: 0.4rem;
    letter-spacing: -0.02em;
}
.section-subtitle { color: var(--text-muted); margin-bottom: 2rem; font-size: 0.92rem; }

.categories-strip {
    display: flex;
    gap: 0.7rem;
    flex-wrap: wrap;
    margin-bottom: 2.5rem;
}
.category-chip {
    background: var(--surface);
    border: 1.5px solid var(--border);
    border-radius: 8px;
    padding: 0.45rem 1rem;
    text-decoration: none;
    color: var(--text-muted);
    font-size: 0.88rem;
    font-weight: 500;
    transition: all 0.15s;
}
.category-chip:hover { background: var(--accent); color: white; border-color: var(--accent); }

.why-us {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 16px;
    padding: 2.5rem;
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 2rem;
    text-align: center;
}
.why-item span { font-size: 2rem; display: block; margin-bottom: 0.6rem; }
.why-item h3 { font-weight: 600; font-size: 1rem; color: var(--text); margin-bottom: 0.3rem; }
.why-item p { color: var(--text-muted); font-size: 0.88rem; }
</style>
{% endblock %}

{% block content %}
<!-- HERO -->
<section class="hero">
    <div class="container">
        <div class="hero-content">
            <h1>–¶–≤–µ—Ç—ã —Å –¥–æ—Å—Ç–∞–≤–∫–æ–π –ø–æ –≥–æ—Ä–æ–¥—É</h1>
            <p>–°–≤–µ–∂–∏–µ –±—É–∫–µ—Ç—ã –æ—Ç –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã—Ö –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤. –ë—ã—Å—Ç—Ä–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞, –∫—Ä–∞—Å–∏–≤–∞—è —É–ø–∞–∫–æ–≤–∫–∞.</p>
            <div class="hero-btns">
                <a href="{% url 'catalog' %}" class="btn btn-primary" style="font-size:0.95rem;padding:0.75rem 1.8rem;">
                    –°–º–æ—Ç—Ä–µ—Ç—å –∫–∞—Ç–∞–ª–æ–≥
                </a>
                {% if not user.is_authenticated %}
                <a href="{% url 'register' %}" class="btn btn-outline" style="font-size:0.95rem;padding:0.75rem 1.8rem;">
                    –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è
                </a>
                {% endif %}
            </div>
        </div>
    </div>
</section>

<!-- CATEGORIES -->
{% if categories %}
<section class="section" style="padding-bottom:0;">
    <div class="container">
        <div class="categories-strip">
            {% for cat in categories %}
            <a href="{% url 'catalog' %}?category={{ cat.slug }}" class="category-chip">{{ cat.name }}</a>
            {% endfor %}
        </div>
    </div>
</section>
{% endif %}

<!-- FEATURED -->
{% if featured %}
<section class="section" style="padding-top:1.5rem;">
    <div class="container">
        <h2 class="section-title">–•–∏—Ç—ã –ø—Ä–æ–¥–∞–∂</h2>
        <p class="section-subtitle">–°–∞–º—ã–µ –ø–æ–ø—É–ª—è—Ä–Ω—ã–µ –±—É–∫–µ—Ç—ã</p>
        <div class="grid-4">
            {% for flower in featured %}
            <div class="flower-card">
                {% if flower.is_featured %}<span class="badge-featured">–•–∏—Ç</span>{% endif %}
                <a href="{% url 'flower_detail' flower.pk %}">
                    {% if flower.image %}
                        <img src="{{ flower.image.url }}" alt="{{ flower.name }}">
                    {% else %}
                        <div class="flower-card-placeholder"></div>
                    {% endif %}
                </a>
                <div class="flower-card-body">
                    <div class="stars">{% for i in "12345" %}{% if forloop.counter <= flower.avg_rating %}‚òÖ{% else %}‚òÜ{% endif %}{% endfor %} <span style="color:var(--text-muted);font-size:0.8rem;">({{ flower.reviews.count }})</span></div>
                    <h3 class="flower-card-title">
                        <a href="{% url 'flower_detail' flower.pk %}" style="text-decoration:none;color:inherit;">{{ flower.name }}</a>
                    </h3>
                    <div class="flower-card-price">{{ flower.price }} ‚ÇΩ</div>
                    <button onclick="addToCart({{ flower.pk }})" class="btn btn-primary" style="width:100%;justify-content:center;">
                        –í –∫–æ—Ä–∑–∏–Ω—É
                    </button>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</section>
{% endif %}

<!-- NEW ARRIVALS -->
<section class="section" style="background:var(--surface);border-top:1px solid var(--border);border-bottom:1px solid var(--border);">
    <div class="container">
        <h2 class="section-title">–ù–æ–≤–∏–Ω–∫–∏</h2>
        <p class="section-subtitle">–¢–æ–ª—å–∫–æ —á—Ç–æ –ø–æ—Å—Ç—É–ø–∏–ª–∏ –≤ –ø—Ä–æ–¥–∞–∂—É</p>
        {% if new_arrivals %}
        <div class="grid-4">
            {% for flower in new_arrivals %}
            <div class="flower-card">
                <a href="{% url 'flower_detail' flower.pk %}">
                    {% if flower.image %}
                        <img src="{{ flower.image.url }}" alt="{{ flower.name }}">
                    {% else %}
                        <div class="flower-card-placeholder"></div>
                    {% endif %}
                </a>
                <div class="flower-card-body">
                    <div class="stars">{% for i in "12345" %}{% if forloop.counter <= flower.avg_rating %}‚òÖ{% else %}‚òÜ{% endif %}{% endfor %}</div>
                    <h3 class="flower-card-title">
                        <a href="{% url 'flower_detail' flower.pk %}" style="text-decoration:none;color:inherit;">{{ flower.name }}</a>
                    </h3>
                    <div class="flower-card-price">{{ flower.price }} ‚ÇΩ</div>
                    <button onclick="addToCart({{ flower.pk }})" class="btn btn-primary" style="width:100%;justify-content:center;">
                        –í –∫–æ—Ä–∑–∏–Ω—É
                    </button>
                </div>
            </div>
            {% endfor %}
        </div>
        <div style="text-align:center;margin-top:2.5rem;">
            <a href="{% url 'catalog' %}" class="btn btn-outline" style="font-size:0.95rem;padding:0.75rem 2rem;">
                –í—Å–µ —Ç–æ–≤–∞—Ä—ã ‚Üí
            </a>
        </div>
        {% else %}
        <p style="color:var(--text-muted);text-align:center;padding:3rem;">
            –°–∫–æ—Ä–æ –ø–æ—è–≤—è—Ç—Å—è –Ω–æ–≤—ã–µ –±—É–∫–µ—Ç—ã
        </p>
        {% endif %}
    </div>
</section>

<!-- WHY US -->
<section class="section">
    <div class="container">
        <div class="why-us">
            <div class="why-item">
                <span>üåø</span>
                <h3>–°–≤–µ–∂–µ—Å—Ç—å</h3>
                <p>–¶–≤–µ—Ç—ã –ø–æ—Å—Ç—É–ø–∞—é—Ç –µ–∂–µ–¥–Ω–µ–≤–Ω–æ –ø—Ä—è–º–æ –æ—Ç –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤</p>
            </div>
            <div class="why-item">
                <span>üíê</span>
                <h3>–†—É—á–Ω–∞—è —Å–±–æ—Ä–∫–∞</h3>
                <p>–ö–∞–∂–¥—ã–π –±—É–∫–µ—Ç —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è –≤—Ä—É—á–Ω—É—é</p>
            </div>
            <div class="why-item">
                <span>üöö</span>
                <h3>–ë—ã—Å—Ç—Ä–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞</h3>
                <p>–î–æ—Å—Ç–∞–≤–∏–º –≤ —Ç–µ—á–µ–Ω–∏–µ 2‚Äì4 —á–∞—Å–æ–≤ –ø–æ –≥–æ—Ä–æ–¥—É</p>
            </div>
            <div class="why-item">
                <span>üéÅ</span>
                <h3>–£–ø–∞–∫–æ–≤–∫–∞ –≤ –ø–æ–¥–∞—Ä–æ–∫</h3>
                <p>–ë–µ—Å–ø–ª–∞—Ç–Ω–∞—è —É–ø–∞–∫–æ–≤–∫–∞ –∫ –∫–∞–∂–¥–æ–º—É –∑–∞–∫–∞–∑—É</p>
            </div>
        </div>
    </div>
</section>
{% endblock %}
